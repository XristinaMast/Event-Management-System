# YpoxreotikiErgasia24_E20095_Mastoraki_Xristina-Eleni


# Πειρεχόμενα:
1. Παραδοχές
2. Τεχνολογίες που Χρησιμοποιήθηκαν
3. Περιγραφή των Αρχείων
4. Τρόπος Εκτέλεσης Συστήματος
5. Τρόπος Χρήσης του Συστήματος

# 1. Παραδοχές
Χρήστες και κατηγορίες: Οι χρήστες ανήκουν σε δύο κατηγορίες: γιατροί και ασθενείς.

Έλεγχος συνεδριών: Οι συνεδρίες χρηστών ελέγχονται για εγκυρότητα και πρόσβαση σε κατηγορίες.

Απαιτούμενα πεδία: Όλες οι εισαγωγές δεδομένων ελέγχονται για ύπαρξη απαιτούμενων πεδίων.

Αποφυγή διπλών εγγραφών: Χρησιμοποιούνται unique keys για να αποφεύγονται διπλές εγγραφές για γιατρούς και ασθενείς.


# 2. Τεχνολογίες που χρησιμοποιήθηκαν
Python 3.9: Γλώσσα προγραμματισμού για την ανάπτυξη της εφαρμογής.

Flask: Web framework για τη δημιουργία του API.

MongoDB: NoSQL βάση δεδομένων για αποθήκευση πληροφοριών χρηστών και ραντεβού.

Docker: Εργαλείο για τη δημιουργία container και την ανάπτυξη της εφαρμογής σε απομονωμένο περιβάλλον.

Docker Compose: Εργαλείο για τη διαχείριση πολλαπλών υπηρεσιών Docker.

# 3. Περιγραφή των Αρχείων
Dockerfile: Ορίζει το περιβάλλον Docker για την εφαρμογή Flask. Εγκαθιστά τις απαραίτητες βιβλιοθήκες και εξαρτήσεις.

docker-compose.yml: Διαμορφώνει τις υπηρεσίες Docker για την εφαρμογή και τη βάση δεδομένων MongoDB. Προσδιορίζει τις θύρες και τις εξαρτήσεις μεταξύ των υπηρεσιών.

main.py: Ο κύριος κώδικας της εφαρμογής Flask, περιέχει τα endpoints για τους χρήστες, τους γιατρούς, τους ασθενείς και τα ραντεβού.

# 4. Τρόπος Εκτέλεσης Συστήματος

Αρχικά ο χρήστης στέλνει ένα request σε ένα API endpoint. Αυτό το request φτάνει στο container Flask. Ύστερα η εφαρμογή Flask:
1.Ελέγχει την αυθεντικοποίηση: Βεβαιώνεται ότι ο χρήστης έχει έγκυρο token και εξουσιοδοτείται να εκτελέσει το request.
2.Επεξεργάζεται το request: Διαβάζει τα δεδομένα από το request, τα ελέγχει για έγκυρα και τα προετοιμάζει για αλληλεπίδραση με τη βάση δεδομένων.
3.Αλληλεπιδρά με τη βάση δεδομένων MongoDB: Εκτελεί τις απαραίτητες CRUD (Create, Read, Update, Delete) operations στη βάση δεδομένων για να ολοκληρώσει το request.
4.Ετοιμάζει το response: Σχηματίζει το response με τα δεδομένα από τη βάση δεδομένων ή με τυχόν μηνύματα σφάλματος.
5.Επιστρέφει το response στον χρήστη.
Έτσι ο χρήστης λαμβάνει το response και μπορεί να το επεξεργαστεί ανάλογα με την εφαρμογή του.

# 5. Τρόπος Χρήσης του Συστήματος

Η βάση δεδομένων MongoDB χρησιμοποιείται για την αποθήκευση όλων των δεδομένων του προγράμματος, όπως πληροφορίες γιατρού, ασθενούς και ραντεβού. Το Dockerfile mongodb δημιουργεί ένα container MongoDB που εκτελεί την επίσημη εικόνα MongoDB. Η εφαρμογή Flask συνδέεται στη βάση δεδομένων MongoDB χρησιμοποιώντας την Python library pymongo. Έτσι η εφαρμογή Flask υλοποιεί όλα τα API endpoints που επιτρέπουν στους χρήστες να αλληλεπιδρούν με το πρόγραμμα και το Dockerfile flask χτίζει την εφαρμογή Flask και την εκτελεί σε ένα container. Η εφαρμογή Flask λαμβάνει requests από τους χρήστες, επεξεργάζεται τα δεδομένα, αλληλεπιδρά με τη βάση δεδομένων MongoDB και επιστρέφει responses στους χρήστες. Τέλος το αρχείο docker-compose.yml ορίζει τα containers MongoDB και Flask, καθώς και τον τρόπο επικοινωνίας τους.

Στο τερματικό θα πρέπει να τρέξουμε τις παρακάτω εντολές.

Αρχικά προσθέτουμε έναν νέο γιατρό στη βάση δεδομένων στέλνοντας ένα POST request στο endpoint /api/v1/doctors με τα ακόλουθα δεδομένα JSON:

JSON
{
  "name": "<όνομα γιατρού>",
  "specialization": "<ειδικότητα>",
  "username": "<όνομα χρήστη>",
  "password": "<κωδικός πρόσβασης>"
}

Για να λάβουμε πληροφορίες για έναν συγκεκριμένο γιατρό στέλνουμε ένα GET request στο endpoint /api/v1/doctors/<doctor_id>, όπου <doctor_id> είναι το ID του γιατρού στη βάση δεδομένων.

Ομοίως για τους ασθενείς:
Προσθήκη νέου ασθενούς στη βάση δεδομένων στέλνοντας ένα POST request στο endpoint /api/v1/patients με τα ακόλουθα δεδομένα JSON:

JSON
{
  "name": "<όνομα ασθενούς>",
   "dob": "<ημερομηνία γέννησης>",
   "username": "<όνομα χρήστη>",
   "password": "<κωδικός πρόσβασης>"
}

Για να λάβουμε πληροφορίες για έναν συγκεκριμένο ασθενή στέλνοντας ένα GET request στο endpoint /api/v1/patients/<patient_id>, όπου <patient_id> είναι το ID του ασθενούς στη βάση δεδομένων.

Ομοίως και για τα ραντεβού:
Προσθήκη νέου ραντεβού στη βάση δεδομένων στέλνοντας ένα POST request στο endpoint /api/v1/appointments με τα ακόλουθα δεδομένα JSON:

JSON
{
  "doctor_id": "<ID γιατρού>",
  "patient_id": "<ID ασθενούς>",
  "date": "<ημερομηνία ραντεβού>"
}

Λήψη πληροφοριών για ένα συγκεκριμένο ραντεβού στέλνοντας ένα GET request στο endpoint /api/v1/appointments/<appointment_id>, όπου <appointment_id> είναι το ID του ραντεβού στη βάση δεδομένων.
Διαγραφή ενός ραντεβού: Μπορείτε να διαγράψετε ένα ραντεβού στέλνοντας ένα DELETE request στο endpoint /api/v1/appointments/<appointment_id>, όπου <appointment_id> είναι το ID του ραντεβού στη βάση δεδομένων.


Για την σύνδεση στην εφαρμογή:

JSON
{
  "username": "<όνομα χρήστη>",
  "password": "<κωδικός πρόσβασης>"
}
